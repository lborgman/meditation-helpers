<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- This page Â© Copyright 2023, Lennart Borgman -->
    <meta name="author" content="Lennart Borgman">
    <meta name="description" content="Meditation breathing timer">
    <!--
    <link rel="manifest" href="/tl/manifest-tl.json">
    <meta name="theme-color" content="#c0ca33">
    -->

    <title>About Some Meditation Tools</title>
    <!-- <link rel="icon" type="image/svg+xml" href="/img/tl.svg"> -->



    <!-- for MWC, https://github.com/material-components/material-web -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Nunito+Sans:ital,opsz,wght@0,6..12,200..1000;1,6..12,200..1000&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap"
        rel="stylesheet">

    <script type="importmap">
            {
              "imports": {
                "util-mdc": "../src/js/mod/util-mdc.js"
              }
            }
    </script>

    <!-- <script src="./src/js/error.js"></script> -->
    <script>
        addScriptSrcElement("./src/js/error.js");
        function addScriptSrcElement(relSrc) {
            // const urlErr = new URL("../src/js/error.js", location);
            const urlErr = new URL(relSrc, location);
            const urlErrHref = urlErr.href;
            console.log("addScriptSrcElement:", urlErrHref);

            const eltErr = document.createElement("script");
            eltErr.src = urlErrHref;
            document.currentScript.insertAdjacentElement("afterend", eltErr);
        }
    </script>



    <!-- 
    // <uniquifier>: Use a unique and descriptive class name
        // <weight>: Use a value from 200 to 1000
    -->
    <!-- 
    <style>
        .nunito-sans-<uniquifier> {
            font-family: "Nunito Sans", sans-serif;
            font-optical-sizing: auto;
            font-weight: <weight>;
            font-style: normal;
            font-variation-settings:
                "wdth" 100,
                "YTLC" 500;
        }
    </style>
    -->

    <!-- 
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Material+Icons&amp;display=block" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    -->
    <!-- 
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    -->


    <!-- Required styles for Material Web -->
    <!-- <link rel="stylesheet" href="/ext/mdc/14.0.0/material-components-web.css"> -->
    <link rel="stylesheet" href="https://unpkg.com/material-components-web@latest/dist/material-components-web.css">

    <!-- <script src="http://localhost:8080/public/ext/mdc/material-components-web.js"></script> -->
    <!-- <script src="/ext/mdc/material-components-web.js"></script> -->

    <!-- <script src="../ext/mdc/material-components-web.js"></script> -->
    <script>
        addScriptSrcElement("./ext/mdc/material-components-web.js");
    </script>

    <!-- <script src="//:8080/public/ext/mdc/material-components-web.js"></script> -->
    <!-- <script src="/src/js/error.js"></script> -->

    <!-- <link rel="stylesheet" href="http://localhost:8080/public/css/rem10m1h.css"> -->
    <style>
        :root {
            --icon-button-size: 48;
            font-size: 16px;
            font-family: "Nunito Sans", sans-serif;
        }

        body {
            background-color: orange;
            background-color: #FFC107;
        }

        section {
            margin-bottom: 80px;
        }
    </style>
    <script>
        function mkLinkHere(relLink, linkText) {
            // const uMbt = new URL("./br-timer/moving-lines.html", location);
            const uMbt = new URL(relLink, location);
            const elt = document.createElement("a");
            // elt.textContent = "HERE";
            elt.textContent = linkText;
            elt.href = uMbt.href;
            document.currentScript.insertAdjacentElement("afterend", elt);
        }
    </script>

</head>

<body>

    <h1>About Some Meditation Tools</h1>

    <section>
        <p>
            This is a collection of some simple tools that might help you begin meditating.
            Currently these tools are available:
        </p>
        <ul>
            <li>
                <a href="#mmtt">
                    Mindfullness Meditation Training Timer
                </a>
            </li>
            <li>
                <a href="#mbt">
                    Meditation Breathing Timer
                </a>
            </li>
        </ul>

    </section>



    <section>

        <h2 id="mmtt">Mindfullness Meditation Training Timer</h2>
        <p>
            The Mindfullness Meditation Training Timer app
            is based on a scientific study that used a very similar app.
            You can read all about it in the app.
        </p>

        <div>
            This part is currently a separate (progressive) web app that you can
            <a href="https://medi-timer-81281.web.app/">start here</a>.
            (It can be used offline since it is a
            <a href="https://en.wikipedia.org/wiki/Progressive_web_app">PWA</a>.)
        </div>
        <script>
            // mkLinkHere("./br-timer/moving-lines.html", "here it is");

        </script>
    </section>


    <section>
        <h2 id="mbt">Meditation Breathing Timer</h2>
        You can
        <script>
            mkLinkHere("./br-timer/moving-lines.html", "start it here");
        </script>
        .

        <p>
            This is my version of some similar apps I found on the internet:
        </p>
        <ul>
            <li>
                <b> SereneBreath: </b>
                This was my first inspiration.
                A beautiful app.
                <p>
                    <a href="https://github.com/gsantiago/SereneBreath">GitHub</a>,
                    <a href="https://serenebreath.com/">Web app (seems to be down?)</a>
                </p>
            </li>
            <li>
                <b> Soothing Breathe: </b>
                A nice and simple idea.
                My version is visually very similar to this app.
                I have made it a web app (and free open source)
                and tried to make it a little bit easier to use.
                <p>
                    <a href="https://www.instagram.com/soothing_breathe/">Instagram @soothing_breathe</a>,
                    <a href="https://pocketbreathcoach.com/">Native app (not a web app)</a>,
                    <a href="https://www.youtube.com/@Headfulness">YouTube, Headfulness</a>
                </p>
            </li>
        </ul>



        <h3>What do we know about these kind of exercises?</h3>

        <p>
            Unfortunately I have not been able to find direct scientific supported
            for this type of exercises.
            There are however indirect support.
        <div style="color:red; background:black; padding:2px;"> (I will add some links here later.) </span>
            </p>

    </section>


    <section>
        <h2>Source code</h2>
        <p>
            If you are interested in the souce code for this web app you can find it on
            <a href="https://github.com/lborgman/meditation-helpers">GitHub</a>.
            It is all in JavaScript, HTML and CSS.
        </p>
    </section>

    <section>
    </section>
    <h2>Do you want to share this web app?</h2>

    <p>
        It is just a link to this web page that you share.
        Hm. Some IT problem here...
    </p>
    <script>
        const currScript = document.currentScript;
        (async () => {
            // const modMdc = await import("util-mdc");
            const urlMdc = new URL("../src/js/mod/util-mdc.js", location);
            const modMdc = await import(urlMdc);
            if (!modMdc) throw Error("could not import modMdc");
            const urlModQr = new URL("../ext/qr/qrjs2.js", location);
            const linkModQr = urlModQr.href;
            console.log({ linkModQr }, linkModQr);
            const modQR = await import(urlModQr);
            if (!modQR) throw Error("could not import modQR");
            const QRcode = modQR.default;

            const url = new URL(location);
            url.hash = "";
            const urlHref = url.href;
            const svg = QRcode.generateSVG(urlHref);

            const XMLS = new XMLSerializer();
            let s = XMLS.serializeToString(svg);
            s = "data:image/svg+xml;base64," + window.btoa(unescape(encodeURIComponent(s)));
            const dataUriSvgImage = mkElt("img");
            dataUriSvgImage.src = s;

            function popupShare() {
                const btnCopy = mkElt("button", { "class": "popup-button copy-button" }, "Copy");
                btnCopy.addEventListener("click", evt => {
                    copyToClipboardAndNotify(spanLoc, spanLoc.innerText);
                })
                const spanLoc = mkElt("span", { "style": "display: inline-block;" },
                    mkElt("a", { "href": urlHref, "target": "_blank", "rel": "noreferrer" }, urlHref));
                const locDiv = mkElt("div", null, [spanLoc, btnCopy]);
                const title = "QR Code for web address";
                const body = mkElt("div", null,
                    [
                        mkElt("p", null, locDiv),
                        dataUriSvgImage
                    ]
                );

                // const popQR = new Popup(title, body, null, true, "qr-popup");
                // popQR.show();
                modMdc.mkMDCdialogAlert(body);
            }
            const btnShare = modMdc.mkMDCbutton("Share", "raised");
            btnShare.addEventListener("click", evt => {
                popupShare();
            });
            // document.currentScript.insertAdjacentElement("afterend", btnShare);
            if (!currScript) throw Error("currScript was undefined");
            currScript.insertAdjacentElement("afterend", btnShare);
        })();
    </script>

    </section>
</body>